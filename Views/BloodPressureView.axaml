<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:vm="using:HealthOptimizer.ViewModels"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             mc:Ignorable="d" d:DesignWidth="1120" d:DesignHeight="900"
             x:Class="HealthOptimizer.Views.BloodPressureView"
             x:DataType="vm:BloodPressureViewModel"
             Background="#F5F7FA">

	<ScrollViewer>
		<StackPanel Margin="40" Spacing="32" MaxWidth="900">

			<!-- Page Header -->
			<StackPanel Spacing="8">
				<TextBlock Text="Blood Pressure"
						   FontSize="36"
						   FontWeight="Bold"
						   Foreground="#1E293B"/>
				<TextBlock Text="Track your blood pressure readings"
						   FontSize="16"
						   Foreground="#64748B"/>
			</StackPanel>

			<!-- Main Card -->
			<Border Background="White"
					Padding="40"
					CornerRadius="16"
					BoxShadow="0 1 3 0 #15000000">

				<StackPanel Spacing="28">

					<!-- Date Selection -->
					<StackPanel Spacing="12">
						<TextBlock Text="Date and Time"
								   FontSize="14"
								   FontWeight="SemiBold"
								   Foreground="#475569"/>
						<DatePicker SelectedDate="{Binding ReadingDateTime}"
									HorizontalAlignment="Left"
									MinWidth="200"/>
					</StackPanel>

					<!-- Reading Section -->
					<StackPanel Spacing="20">
						<TextBlock Text="Reading"
								   FontSize="18"
								   FontWeight="Bold"
								   Foreground="#1E293B"/>

						<Grid ColumnDefinitions="*,*" RowDefinitions="Auto">

							<StackPanel Grid.Column="0" Spacing="12" Margin="0,0,16,0">
								<TextBlock Text="Systolic (top number)"
										   FontSize="14"
										   FontWeight="SemiBold"
										   Foreground="#475569"/>
								<TextBox Text="{Binding Systolic}"
										 Watermark="120"
										 Height="44"
										 FontSize="15"
										 Padding="12"/>
							</StackPanel>

							<StackPanel Grid.Column="1" Spacing="12" Margin="16,0,0,0">
								<TextBlock Text="Diastolic (bottom number)"
										   FontSize="14"
										   FontWeight="SemiBold"
										   Foreground="#475569"/>
								<TextBox Text="{Binding Diastolic}"
										 Watermark="80"
										 Height="44"
										 FontSize="15"
										 Padding="12"/>
							</StackPanel>

						</Grid>
					</StackPanel>

					<!-- Pulse -->
					<StackPanel Spacing="12">
						<TextBlock Text="Pulse (optional)"
								   FontSize="14"
								   FontWeight="SemiBold"
								   Foreground="#475569"/>
						<TextBox Text="{Binding Pulse}"
								 Watermark="70"
								 Width="300"
								 HorizontalAlignment="Left"
								 Height="44"
								 FontSize="15"
								 Padding="12"/>
					</StackPanel>

					<!-- Notes -->
					<StackPanel Spacing="12">
						<TextBlock Text="Notes"
								   FontSize="14"
								   FontWeight="SemiBold"
								   Foreground="#475569"/>
						<TextBox Text="{Binding Notes}"
								 Watermark="How are you feeling? Any factors (stress, coffee, etc)?"
								 Height="100"
								 AcceptsReturn="True"
								 TextWrapping="Wrap"
								 FontSize="15"
								 Padding="12"/>
					</StackPanel>

					<!-- Category Badge -->
					<Border Background="#F1F5F9"
							Padding="20"
							CornerRadius="12"
							HorizontalAlignment="Left">
						<StackPanel Spacing="8">
							<TextBlock Text="Current Category"
									   FontSize="12"
									   FontWeight="SemiBold"
									   Foreground="#64748B"/>
							<TextBlock Text="{Binding BPCategory}"
									   FontSize="20"
									   FontWeight="Bold"
									   Foreground="#1E293B"/>
						</StackPanel>
					</Border>

					<!-- Save Button -->
					<Button Content="Save Reading"
							Command="{Binding SaveCommand}"
							HorizontalAlignment="Left"
							MinWidth="200"
							Height="48"
							FontSize="16"
							FontWeight="SemiBold"
							Background="#3B82F6"
							Foreground="White"
							CornerRadius="8"
							Margin="0,12,0,0"
							Cursor="Hand"/>

					<!-- Status Message -->
					<TextBlock Text="{Binding StatusMessage}"
							   Foreground="#10B981"
							   FontWeight="SemiBold"
							   FontSize="14"
							   Margin="0,8,0,0"/>

				</StackPanel>

			</Border>

			<!-- Recent Readings Card -->
			<Border Background="White"
					Padding="32"
					CornerRadius="16"
					BoxShadow="0 1 3 0 #15000000">

				<StackPanel Spacing="20">

					<TextBlock Text="Recent Readings"
							   FontSize="20"
							   FontWeight="Bold"
							   Foreground="#1E293B"/>

					<ItemsControl ItemsSource="{Binding RecentReadings}">
						<ItemsControl.ItemTemplate>
							<DataTemplate>
								<Border Background="#F8FAFC"
										Padding="20"
										Margin="0,0,0,12"
										CornerRadius="10">
									<Grid ColumnDefinitions="Auto,*,Auto">
										<TextBlock Grid.Column="0"
												   Text="{Binding DateTime, StringFormat='{}{0:MM/dd/yy h:mm tt}'}"
												   VerticalAlignment="Center"
												   FontSize="14"
												   Foreground="#64748B"
												   Margin="0,0,20,0"/>
										<StackPanel Grid.Column="1"
													Orientation="Horizontal"
													VerticalAlignment="Center"
													Spacing="8">
											<TextBlock Text="{Binding Systolic}"
													   FontSize="18"
													   FontWeight="Bold"
													   Foreground="#1E293B"/>
											<TextBlock Text="/"
													   FontSize="18"
													   Foreground="#94A3B8"/>
											<TextBlock Text="{Binding Diastolic}"
													   FontSize="18"
													   FontWeight="Bold"
													   Foreground="#1E293B"/>
										</StackPanel>
										<TextBlock Grid.Column="2"
												   Text="{Binding Pulse, StringFormat='{}â™¥ {0}'}"
												   VerticalAlignment="Center"
												   FontSize="14"
												   Foreground="#94A3B8"/>
									</Grid>
								</Border>
							</DataTemplate>
						</ItemsControl.ItemTemplate>
					</ItemsControl>

				</StackPanel>

			</Border>

		</StackPanel>
	</ScrollViewer>

</UserControl>